# 晾衣助手微信小程序

## 项目概述

这是一个基于微信小程序的智能晾衣助手应用，采用现代化的Glassmorphism（毛玻璃）UI设计，通过分析天气数据为用户提供晾衣建议。

## 主要功能

- 🌤️ **智能天气分析** - 基于多维度天气数据计算晾衣指数
- 📍 **位置服务** - 手动选择位置获取精准天气
- 📊 **小时级晾晒时段** - 首页显示24小时内的晾晒适宜度时间轴
- 🎯 **三时段胶囊设计** - 5天预报采用"上午·中午·下午"直观显示
- 📅 **5天天气预报** - 提供未来5天的晾衣建议和时段分析
- ⚙️ **个性化设置** - 支持工作时间和晾衣偏好设置
- 🎨 **现代化UI** - 毛玻璃效果设计，美观流畅

## 技术特点

- **前端框架**: 微信小程序原生框架
- **UI设计**: Glassmorphism毛玻璃效果
- **天气API**: Open-Meteo免费天气API
- **数据存储**: 微信小程序本地存储
- **响应式设计**: 适配不同屏幕尺寸

## 项目结构

```
weather/
├── app.js              # 主应用文件
├── app.json            # 全局配置
├── app.wxss            # 全局样式
├── project.config.json  # 项目配置
├── sitemap.json        # 站点地图
├── pages/              # 页面目录
│   ├── index/          # 首页
│   │   ├── index.js
│   │   ├── index.wxml
│   │   └── index.wxss
│   ├── forecast/        # 预报页面
│   │   ├── forecast.js
│   │   ├── forecast.wxml
│   │   └── forecast.wxss
│   └── settings/        # 设置页面
│       ├── settings.js
│       ├── settings.wxml
│       └── settings.wxss
└── images/             # 图标资源
    ├── home.png
    ├── home-active.png
    ├── forecast.png
    ├── forecast-active.png
    ├── settings.png
    └── settings-active.png
```

## 运行步骤

### 1. 准备工作

1. 下载并安装 [微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
2. 注册微信小程序账号获取AppID

### 2. 导入项目

1. 打开微信开发者工具
2. 选择"导入项目"
3. 选择项目目录：`d:\weather`
4. 填写AppID（可以使用测试号）
5. 项目名称：晾衣助手

### 3. 配置项目

1. 在 `project.config.json` 中配置您的AppID
2. 确保网络请求域名已配置：
   - `https://api.open-meteo.com` (天气API)
3. 在 `app.json` 中已包含必要的权限配置：
   ```json
   "requiredPrivateInfos": ["chooseLocation"]
   ```

### 4. 运行项目

1. 点击"编译"按钮
2. 小程序将在模拟器中启动
3. 首次运行会提示选择位置
4. 选择位置后即可查看天气和晾衣建议

## 使用说明

### 首页功能

- **位置选择**: 点击顶部位置按钮选择您的位置
- **晾衣指数**: 显示今日晾衣指数和状态
- **小时时段**: 横向滑动查看24小时晾晒时段
- **天气指标**: 显示温度、湿度、风速、降雨概率
- **快捷操作**: 刷新天气、查看5天预报

### 预报页面

- **三时段胶囊设计**: 每天分为"上午(8-12点)·中午(12-15点)·下午(15-18点)"三个时段
- **直观颜色编码**: 绿色=适合，橙色=一般，灰色=不适合
- **一目了然**: 快速识别最佳晾衣时间段，如[灰][绿][绿]表示"等到中午再晾衣服"
- **每日评分**: 显示每日整体晾衣指数和建议

### 设置页面

- **工作时间**: 设置您的工作时间段
- **晾衣偏好**: 
  - 安全优先：慢干但稳妥
  - 平衡模式：兼顾速度和安全  
  - 速度优先：快速晾晒但有风险

## 晾衣指数算法

算法综合考虑以下因素：
- 🌡️ **温度** (权重: 1.0)
- 💨 **风速** (权重: 1.8) - 风速对晾干影响最大
- ☀️ **紫外线** (权重: 1.2) - 阳光加速晾干
- 💧 **湿度** (权重: 0.6) - 负面影响
- ☁️ **云量** (权重: 0.3) - 负面影响

**指数范围**: 0-100
- 🟢 60-100: 非常适合晾晒
- 🟡 30-60: 可以晾晒
- 🔴 0-30: 不适合晾晒

## 注意事项

1. **图标文件**: 当前使用占位符，建议替换为实际的PNG图标文件
2. **网络权限**: 确保在微信公众平台配置了服务器域名
3. **位置权限**: 首次使用需要用户授权位置信息
4. **API限制**: Open-Meteo API有调用频率限制

## 开发说明

项目采用模块化设计，主要文件说明：

- `app.js`: 核心业务逻辑，包含天气获取和指数计算
- `app.wxss`: 全局样式，定义毛玻璃UI设计系统
- `pages/index/`: 首页，展示今日晾衣建议和小时级时间轴
- `pages/forecast/`: 预报页，显示5天晾衣趋势
- `pages/settings/`: 设置页，用户偏好配置

## 版本信息

- 项目版本: 1.0.0
- 最后更新: 2025-01-19
- 微信小程序基础库版本: 2.19.4

## 许可证

本项目仅供学习和参考使用。